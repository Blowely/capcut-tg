# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ CapCut Telegram Mini App –∑–∞ 5 –º–∏–Ω—É—Ç.

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ Node.js 18+
- ‚úÖ npm 9+
- ‚úÖ Docker Desktop (–¥–ª—è PostgreSQL)
- ‚úÖ FFmpeg

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg

**macOS:**
```bash
brew install ffmpeg
```

**Linux (Ubuntu/Debian):**
```bash
sudo apt install ffmpeg
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
ffmpeg -version
```

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
chmod +x scripts/setup.sh
./scripts/setup.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç PostgreSQL
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install
cd apps/backend && npm install && cd ../..
cd apps/frontend && npm install && cd ../..

# 2. –ó–∞–ø—É—Å–∫ PostgreSQL
docker-compose up -d

# –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ PostgreSQL
sleep 5

# 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
cd apps/backend
npm run prisma:generate
npm run db:push
cd ../..

# 4. –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
mkdir -p apps/backend/uploads apps/backend/temp
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞: `/newbot`
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
4. –°–æ–∑–¥–∞–π—Ç–µ Mini App: `/newapp`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ `apps/backend/.env`:
   ```env
   TELEGRAM_BOT_TOKEN=your_actual_token_here
   ```

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
```bash
./scripts/dev.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞–ø—Ä—è–º—É—é
```bash
npm run dev
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –†–∞–∑–¥–µ–ª—å–Ω–æ

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend:**
```bash
cd apps/backend
npm run dev
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Frontend:**
```bash
cd apps/frontend
npm run dev
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ:

- üé® **Frontend**: http://localhost:3000
- üîß **Backend API**: http://localhost:3001
- üìö **Swagger**: http://localhost:3001/api

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å ngrok

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok:
   ```bash
   # macOS
   brew install ngrok
   
   # –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å https://ngrok.com
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å:
   ```bash
   ngrok http 3000
   ```

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://abc123.ngrok.io`)

4. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather)

5. –û–±–Ω–æ–≤–∏—Ç–µ URL Mini App:
   ```
   /myapps
   ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   ‚Üí Edit Web App URL
   ‚Üí –≤—Å—Ç–∞–≤—å—Ç–µ ngrok URL
   ```

6. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!

## –ß–∞—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# Prisma Studio (GUI –¥–ª—è –ë–î)
npm run db:studio

# –°–±—Ä–æ—Å –ë–î
./scripts/reset-db.sh
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# PostgreSQL –ª–æ–≥–∏
docker-compose logs -f postgres
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
Ctrl+C (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å npm run dev)

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL
docker-compose down
```

## –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ Telegram
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –ë–î –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å" –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
   - –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

3. **–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ**
   - –í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª (–¥–æ 100MB)

4. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –î–æ–±–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç
   - –ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã
   - –î–æ–±–∞–≤—å—Ç–µ –º—É–∑—ã–∫—É

5. **–≠–∫—Å–ø–æ—Ä—Ç**
   - –ù–∞–∂–º–∏—Ç–µ "–≠–∫—Å–ø–æ—Ä—Ç"
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –°–∫–∞—á–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
capcut-tg/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ backend/     # NestJS API
‚îÇ   ‚îî‚îÄ‚îÄ frontend/    # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ scripts/         # Bash —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
lsof -i :3000

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 <PID>
```

### –ü—Ä–æ–±–ª–µ–º–∞: PostgreSQL –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å
docker-compose down -v

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker-compose up -d
```

### –ü—Ä–æ–±–ª–µ–º–∞: FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
which ffmpeg

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
brew reinstall ffmpeg  # macOS
sudo apt reinstall ffmpeg  # Linux
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
npm cache clean --force

# –£–¥–∞–ª–∏—Ç—å node_modules
rm -rf node_modules apps/*/node_modules

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
npm install
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üìñ [README.md](./README.md) - –æ–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- üèóÔ∏è [ARCHITECTURE.md](./ARCHITECTURE.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- üîß [SETUP.md](./SETUP.md) - –¥–µ—Ç–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- üöÄ [DEPLOYMENT.md](./DEPLOYMENT.md) - production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- ü§ù [CONTRIBUTING.md](./CONTRIBUTING.md) - –≥–∞–π–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Next.js –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://nextjs.org/docs)
- [NestJS –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.nestjs.com)
- [Prisma –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.prisma.io/docs)
- [Telegram Mini Apps](https://core.telegram.org/bots/webapps)
- [FFmpeg –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://ffmpeg.org/documentation.html)

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

- üí¨ GitHub Issues –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
- üìß Email –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- üêõ Bug reports –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è

---

**–ü—Ä–∏—è—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üé¨‚ú®**

